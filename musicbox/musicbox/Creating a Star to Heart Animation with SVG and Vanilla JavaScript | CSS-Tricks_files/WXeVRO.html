<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">

  <title>CodePen Embed - star vs. heart: corresponding cubic BÃ©zier curves (annotated, highlight on click)</title>

  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="yXCHwdwICd4667RFO9qVKoAVaPPk4IhjLcptCDajZEIW1U1m/DXq8usowjtG4KwyBVNop4MjX8Md/VuH2Hcvgg==">

  <link rel="stylesheet" media="all" href="LpqEmJ_data/embed-62b05bf88f3dbafa8f640b053a4ff4fcef97d10eb11ad3d87ecc3c.css">

  <style>
    .hide {
      display: none !important;
    }
    .embed-nav {
      background: #333334;
      
    }
    .embed-nav .code-types a,
    .embed-nav .result-button-list a,
    .action-button {
      color: #e4e3e5;
      background-color: #6e6e6f;
    }
    .embed-nav .code-types a.active,
    .embed-nav .result-button-list a.active,
    .action-button.active {
      background: #1d1d1d;
      color: #ffffff;
      box-shadow: inset 0px 3px #deaf03;
    }
    .embed-nav .logo-wrap a {
      color: #d6d6d6;
    }
    .embed-nav .cp-embed-logo, .embed-nav #icon-codepen-box {
      fill: #d6d6d6 !important;
    }
  </style>

  <link rel="stylesheet" media="all" href="LpqEmJ_data/twilight-806f33f2be80aeca6de9c2b2a8ef642d0eb4840b5d6f1787f28.css">

</head>

<body id="the-body" style="border: 5px solid #cecece;" class="codepen-embed-body">

  <div class="embed-nav group" id="embed-nav">

  <ul class="code-types">

      <li class="code-type">
        <a id="html-link" href="#html-box" aria-pressed="false" role="button">
          Pug
        </a>
      </li>

      <li class="code-type">
        <a id="css-link" href="#css-box" aria-pressed="false" role="button">
          SCSS
        </a>
      </li>

      <li class="code-type">
        <a id="js-link" href="#js-box" aria-pressed="false" role="button">
          Babel
        </a>
      </li>
  </ul>

  <ul class="result-button-list">
    <li class="results results-type">
      <a id="result-link" href="#result-box" class="active" aria-pressed="true" role="button">
        Result
      </a>
    </li>
  </ul>

  <div class="logo-wrap" id="edit-area">
    <a class="large-logo edit-on-codepen" target="_blank" rel="noopener" href="https://codepen.io/thebabydino/pen/WXeVRO" title="Edit on CodePen">
      <span id="edit-on-text" class="open-on">EDIT ON</span>
      <svg id="embed-codepen-logo" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="411.438px" height="74.257px" viewBox="0 0 411.438 74.257" enable-background="new 0 0 411.438 74.257" xml:space="preserve">
  <g>
    <path class="cp-embed-logo" d="M25.857 18.232c4.618 0 8.85 1.67 12.14 4.429l4.472-5.33c-4.496-3.779-10.29-6.061-16.61-6.061 C11.6 11.27 0 22.87 0 37.128c0 14.26 11.6 25.86 25.86 25.856c6.32 0 12.114-2.282 16.61-6.061l-4.472-5.33 c-3.286 2.761-7.521 4.429-12.139 4.429c-10.419 0-18.896-8.476-18.896-18.894C6.962 26.71 15.44 18.23 25.86 18.232z"></path>
    <path class="cp-embed-logo" d="M168.993 12.763H155.07c-1.922 0-3.48 1.559-3.48 3.48v41.769c0 1.92 1.56 3.48 3.48 3.48h13.923 c13.436 0 24.365-10.93 24.365-24.365C193.358 23.69 182.43 12.76 168.99 12.763z M168.993 54.532h-10.442V19.725h10.442 c9.597 0 17.4 7.81 17.4 17.404C186.397 46.73 178.59 54.53 168.99 54.532z"></path>
    <path class="cp-embed-logo" d="M212.206 16.244v41.769c0 1.92 1.56 3.48 3.48 3.48h29.007v-6.961h-25.525V40.608h16.243v-6.961h-16.243 V19.725h25.525v-6.961h-29.007C213.765 12.76 212.21 14.32 212.21 16.244z"></path>
    <path class="cp-embed-logo" d="M317.569 16.244v41.769c0 1.92 1.56 3.48 3.48 3.48h29.006v-6.961H324.53V40.608h16.244v-6.961H324.53 V19.725h25.525v-6.961H321.05C319.128 12.76 317.57 14.32 317.57 16.244z"></path>
    <path class="cp-embed-logo" d="M284.443 12.763h-15.084c-1.922 0-3.48 1.559-3.48 3.48v45.25h6.962V40.608h11.603 c7.677 0 13.923-6.246 13.923-13.922C298.366 19.01 292.12 12.76 284.44 12.763z M284.443 33.647h-11.603V19.725h11.603 c3.839 0 6.96 3.12 6.96 6.961S288.282 33.65 284.44 33.647z"></path>
    <path class="cp-embed-logo" d="M404.476 12.763v35.636l-28.652-34.384c-0.938-1.127-2.481-1.545-3.859-1.045 c-1.378 0.5-2.296 1.808-2.296 3.273v45.25h6.962V25.858l28.652 34.383c0.675 0.81 1.66 1.25 2.67 1.25 c0.396 0 0.797-0.066 1.185-0.207c1.378-0.5 2.296-1.808 2.296-3.273v-45.25H404.476z"></path>
    <path class="cp-embed-logo" d="M131.815 25.261c-0.017-0.09-0.032-0.18-0.056-0.268c-0.015-0.053-0.033-0.103-0.05-0.155 c-0.025-0.078-0.051-0.156-0.082-0.232c-0.022-0.053-0.047-0.104-0.071-0.155c-0.034-0.072-0.069-0.143-0.109-0.212 c-0.028-0.051-0.06-0.099-0.091-0.148c-0.043-0.066-0.087-0.131-0.135-0.194c-0.035-0.047-0.071-0.092-0.109-0.137 c-0.05-0.06-0.104-0.117-0.158-0.173c-0.042-0.042-0.084-0.084-0.128-0.125c-0.058-0.053-0.118-0.103-0.181-0.151 c-0.048-0.037-0.095-0.075-0.145-0.109c-0.018-0.013-0.034-0.028-0.053-0.04L96.511 0.536c-1.071-0.715-2.468-0.715-3.539 0 L59.034 23.161c-0.019 0.012-0.034 0.027-0.053 0.04c-0.05 0.035-0.097 0.072-0.145 0.109c-0.062 0.049-0.123 0.099-0.181 0.15 c-0.044 0.04-0.086 0.082-0.127 0.125c-0.056 0.056-0.108 0.113-0.159 0.173c-0.038 0.045-0.074 0.09-0.109 0.14 c-0.048 0.063-0.092 0.127-0.135 0.194c-0.031 0.049-0.062 0.097-0.091 0.148c-0.04 0.069-0.075 0.14-0.108 0.21 c-0.024 0.051-0.05 0.103-0.071 0.155c-0.031 0.076-0.058 0.154-0.083 0.232c-0.017 0.052-0.035 0.103-0.049 0.15 c-0.023 0.088-0.04 0.177-0.056 0.268c-0.009 0.046-0.02 0.091-0.026 0.138c-0.018 0.138-0.028 0.276-0.028 0.417V48.44 c0 0.14 0.01 0.28 0.03 0.417c0.007 0.05 0.02 0.09 0.03 0.138c0.016 0.09 0.03 0.18 0.06 0.27 c0.014 0.05 0.03 0.1 0.05 0.155c0.025 0.08 0.05 0.16 0.08 0.233c0.021 0.05 0.05 0.1 0.07 0.15 c0.033 0.07 0.07 0.14 0.11 0.213c0.028 0.05 0.06 0.1 0.09 0.146c0.043 0.07 0.09 0.13 0.14 0.19 c0.035 0.05 0.07 0.09 0.11 0.138c0.051 0.06 0.1 0.12 0.16 0.173c0.041 0.04 0.08 0.09 0.13 0.12 c0.058 0.05 0.12 0.1 0.18 0.152c0.048 0.04 0.1 0.07 0.14 0.109c0.019 0.01 0.03 0.03 0.05 0.039L92.972 73.72 c0.536 0.36 1.15 0.54 1.77 0.537s1.234-0.18 1.77-0.537l33.938-22.625c0.019-0.012 0.035-0.026 0.053-0.039 c0.05-0.035 0.097-0.072 0.145-0.109c0.062-0.049 0.123-0.1 0.181-0.152c0.044-0.039 0.086-0.082 0.128-0.124 c0.055-0.056 0.108-0.113 0.158-0.173c0.038-0.045 0.074-0.09 0.109-0.138c0.048-0.063 0.092-0.128 0.135-0.194 c0.031-0.048 0.062-0.097 0.091-0.146c0.04-0.07 0.075-0.141 0.109-0.213c0.024-0.051 0.049-0.102 0.071-0.154 c0.031-0.077 0.057-0.155 0.082-0.233c0.017-0.052 0.035-0.103 0.05-0.155c0.023-0.088 0.039-0.178 0.056-0.268 c0.008-0.046 0.02-0.091 0.025-0.138c0.018-0.138 0.028-0.276 0.028-0.417V25.816c0-0.141-0.011-0.279-0.028-0.417 C131.835 25.35 131.82 25.31 131.81 25.261z M94.741 44.677l-11.285-7.548l11.285-7.549l11.286 7.549L94.741 44.677z M91.551 24.037L77.717 33.29L66.55 25.82L91.551 9.153V24.037z M71.978 37.128l-7.982 5.339V31.789L71.978 37.128z M77.717 40.97 l13.834 9.252v14.884L66.55 48.437L77.717 40.968z M97.932 50.22l13.834-9.252l11.168 7.469L97.932 65.104V50.22z M117.505 37.13 l7.983-5.34v10.679L117.505 37.128z M111.766 33.29l-13.834-9.252V9.153l25.002 16.667L111.766 33.29z"></path>
  </g>
</svg>
    </a>
    <a class="box-logo edit-on-codepen" target="_blank" rel="noopener" href="https://codepen.io/thebabydino/pen/WXeVRO" title="Edit on CodePen">
      <svg viewBox="0 0 100 100">
  <path id="icon-codepen-box" d="M99.961,34.205c-0.009-0.063-0.025-0.124-0.035-0.187c-0.021-0.121-0.043-0.242-0.075-0.36
    c-0.019-0.071-0.044-0.14-0.067-0.208c-0.034-0.105-0.068-0.21-0.11-0.312c-0.029-0.071-0.063-0.142-0.096-0.21
    c-0.045-0.097-0.092-0.192-0.146-0.284c-0.04-0.068-0.082-0.134-0.122-0.2c-0.058-0.089-0.117-0.176-0.182-0.26
    c-0.047-0.063-0.097-0.126-0.147-0.187c-0.068-0.079-0.139-0.158-0.214-0.232c-0.056-0.058-0.112-0.115-0.171-0.168
    c-0.079-0.071-0.161-0.14-0.243-0.205c-0.064-0.05-0.128-0.1-0.195-0.147c-0.025-0.016-0.047-0.037-0.071-0.053L52.383,0.722
    c-1.444-0.962-3.323-0.962-4.767,0L1.914,31.19c-0.024,0.016-0.046,0.037-0.071,0.053c-0.067,0.047-0.13,0.098-0.193,0.147
    c-0.084,0.065-0.166,0.134-0.243,0.205c-0.061,0.053-0.116,0.11-0.172,0.168c-0.075,0.074-0.146,0.153-0.213,0.232
    c-0.051,0.061-0.101,0.124-0.148,0.187c-0.063,0.084-0.124,0.171-0.18,0.26c-0.043,0.066-0.084,0.132-0.124,0.2
    c-0.053,0.092-0.1,0.187-0.146,0.284c-0.033,0.068-0.067,0.139-0.096,0.21c-0.042,0.103-0.076,0.208-0.11,0.312
    c-0.022,0.068-0.047,0.137-0.067,0.208c-0.031,0.119-0.052,0.239-0.075,0.36c-0.011,0.063-0.026,0.124-0.034,0.187
    C0.014,34.389,0,34.576,0,34.765v30.468c0,0.189,0.014,0.376,0.04,0.563c0.008,0.061,0.023,0.124,0.034,0.184
    c0.022,0.121,0.043,0.242,0.075,0.36c0.02,0.071,0.045,0.14,0.067,0.208c0.034,0.105,0.068,0.21,0.11,0.315
    c0.029,0.071,0.063,0.14,0.096,0.208c0.046,0.097,0.094,0.191,0.146,0.287c0.039,0.066,0.08,0.131,0.124,0.197
    c0.056,0.089,0.117,0.176,0.18,0.261c0.047,0.065,0.097,0.126,0.148,0.187c0.067,0.079,0.138,0.158,0.213,0.231
    c0.057,0.058,0.112,0.115,0.172,0.168c0.078,0.071,0.159,0.14,0.243,0.206c0.063,0.05,0.126,0.1,0.193,0.147
    c0.025,0.016,0.047,0.037,0.071,0.053l45.703,30.469C48.338,99.758,49.169,100,50,100c0.83,0,1.661-0.242,2.383-0.723
    l45.703-30.469c0.024-0.016,0.045-0.037,0.071-0.053c0.067-0.047,0.13-0.097,0.195-0.147c0.083-0.066,0.164-0.134,0.243-0.206
    c0.059-0.053,0.115-0.11,0.171-0.168c0.075-0.074,0.146-0.153,0.214-0.231c0.05-0.061,0.1-0.121,0.147-0.187
    c0.065-0.084,0.124-0.171,0.182-0.261c0.041-0.066,0.083-0.131,0.122-0.197c0.054-0.095,0.101-0.189,0.146-0.287
    c0.033-0.068,0.067-0.137,0.096-0.208c0.042-0.105,0.076-0.21,0.11-0.315c0.022-0.068,0.048-0.137,0.067-0.208
    c0.032-0.118,0.054-0.239,0.075-0.36c0.01-0.061,0.026-0.124,0.035-0.184C99.985,65.61,100,65.423,100,65.233V34.765
    C100,34.576,99.985,34.389,99.961,34.205z M54.297,12.327l33.668,22.444L72.927,44.831L54.297,32.369V12.327z M45.703,12.327
    v20.042L27.074,44.831l-15.04-10.061L45.703,12.327z M8.594,42.809L19.345,50L8.594,57.19V42.809z M45.703,87.672L12.035,65.228
    l15.04-10.058L45.703,67.63V87.672z M50,60.165L34.802,50L50,39.833L65.198,50L50,60.165z M54.297,87.672V67.63L72.927,55.17
    l15.039,10.058L54.297,87.672z M91.405,57.19L80.656,50l10.75-7.191V57.19z"></path>
</svg>
    </a>
  </div>

</div>


  <div id="output" class=" static" data-border-style="thick" data-header="true">

      <div id="html-box" class="code-wrap code-box box " role="region" aria-label="HTML">


          <pre><code data-lang="pug" id="actual-html-code" data-og-lang="pug" data-alt-lang="xml" class=" cm-s-default">[[[<span class="cm-tag">https</span><span class="cm-colon">:</span><span class="cm-comment">//codepen.io/thebabydino/pen/zEbVPO]]]</span><br><br><span class="cm-punctuation">-</span> <span class="cm-keyword">var</span> <span class="cm-def">o</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">d</span>, <span class="cm-def">r</span> <span class="cm-operator">=</span> <span class="cm-number">.43</span><span class="cm-operator">*</span><span class="cm-variable">d</span>;<br><span class="cm-punctuation">-</span> <span class="cm-keyword">var</span> <span class="cm-def">a0</span> <span class="cm-operator">=</span> <span class="cm-number">198</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">PI</span><span class="cm-operator">/</span><span class="cm-number">180</span>, <span class="cm-def">a1</span> <span class="cm-operator">=</span> <span class="cm-number">225</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">PI</span><span class="cm-operator">/</span><span class="cm-number">180</span>;<br><span class="cm-punctuation">-</span> <span class="cm-keyword">var</span> <span class="cm-def">x0</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable">r</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">cos</span>(<span class="cm-variable">a0</span>));<br><span class="cm-punctuation">-</span> <span class="cm-keyword">var</span> <span class="cm-def">y0</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable">r</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">sin</span>(<span class="cm-variable">a0</span>));<br><span class="cm-punctuation">-</span> <span class="cm-keyword">var</span> <span class="cm-def">x1</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable">r</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">cos</span>(<span class="cm-variable">a1</span>));<br><span class="cm-punctuation">-</span> <span class="cm-keyword">var</span> <span class="cm-def">y1</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable">r</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">sin</span>(<span class="cm-variable">a1</span>));<br><br><span class="cm-tag">svg</span><span class="cm-builtin">#demo</span><span class="cm-punctuation">(</span><span class="cm-attribute">viewBox</span><span class="cm-operator">=</span>[<span class="cm-variable">o</span>, <span class="cm-variable">o</span>, <span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable">d</span>, <span class="cm-variable">d</span>].<span class="cm-property">join</span>(<span class="cm-string">' '</span>)<span class="cm-punctuation">)</span><br><span class="cm-indent">    </span><span class="cm-tag">style</span><br><span class="cm-indent">        </span><span class="cm-string">| svg { font: #{fs}px consolas, monaco, monospace }</span><br><span class="cm-indent">    </span><span class="cm-tag">marker</span><span class="cm-builtin">#end</span><span class="cm-punctuation">(</span><span class="cm-attribute">markerWidth</span><span class="cm-operator">=</span><span class="cm-variable">ad</span> <span class="cm-attribute">markerHeight</span><span class="cm-operator">=</span><span class="cm-variable">ad</span> <br>                        <span class="cm-attribute">viewBox</span><span class="cm-operator">=</span><span class="cm-string">'0 -4 8 8'</span> <br>                        <span class="cm-attribute">orient</span><span class="cm-operator">=</span><span class="cm-string">'auto'</span> <span class="cm-attribute">refX</span><span class="cm-operator">=</span><span class="cm-string">'7'</span><span class="cm-punctuation">)</span><br><span class="cm-indent">        </span><span class="cm-tag">path</span><span class="cm-punctuation">(</span><span class="cm-attribute">d</span><span class="cm-operator">=</span><span class="cm-string">'M8 0 0-4V4'</span><span class="cm-punctuation">)</span><br><span class="cm-indent">    </span><span class="cm-tag">g</span><span class="cm-builtin">#arc</span><br><span class="cm-indent">        </span><span class="cm-tag">circle</span><span class="cm-punctuation">(</span><span class="cm-attribute">r</span><span class="cm-operator">=</span><span class="cm-variable">r</span><span class="cm-punctuation">)</span><br><span class="cm-indent">        </span><span class="cm-tag">path</span><span class="cm-punctuation">(</span><span class="cm-attribute">d</span><span class="cm-operator">=</span><span class="cm-string-2">`M${</span><span class="cm-variable">x0</span><span class="cm-string-2">}</span> <span class="cm-string-2">${</span><span class="cm-variable">y0</span><span class="cm-string-2">}</span> <span class="cm-string-2">A${</span><span class="cm-variable">r</span><span class="cm-string-2">}</span> <span class="cm-string-2">${</span><span class="cm-variable">r</span><span class="cm-string-2">}</span> <span class="cm-string-2">0 0 1 ${</span><span class="cm-variable">x1</span><span class="cm-string-2">}</span> <span class="cm-string-2">${</span><span class="cm-variable">y1</span><span class="cm-string-2">}</span><span class="cm-string-2">`</span><span class="cm-punctuation">)</span><br><span class="cm-indent">    </span><span class="cm-tag">use</span><span class="cm-punctuation">(</span><span class="cm-attribute">xlink:href</span><span class="cm-operator">=</span><span class="cm-string">'#arc'</span> <span class="cm-attribute">x</span><span class="cm-operator">=</span><span class="cm-variable">d</span><span class="cm-punctuation">)</span></code></pre>

          <a href="#0" id="view-html-compiled-button" class="action-button bottom right view-compiled-button" data-type="html">
            View Compiled
          </a>
      </div>

      <div id="css-box" class="code-wrap code-box box " role="region" aria-label="CSS">


          <pre><code data-lang="text/x-scss" id="actual-css-code" data-og-lang="text/x-scss" data-alt-lang="css" class=" cm-s-default"><span class="cm-variable-2">$demo-dark</span>: <span class="cm-atom">#333</span>;<br><span class="cm-variable-2">$demo-light</span>: <span class="cm-atom">#ccc</span>;<br><span class="cm-variable-2">$demo-ll</span>: <span class="cm-atom">#95a</span>;<br><span class="cm-variable-2">$demo-hl</span>: <span class="cm-atom">#f90</span>;<br><br><span class="cm-tag">body</span> {<br>    <span class="cm-property">display</span>: <span class="cm-atom">flex</span>;<br>    <span class="cm-property">margin</span>: <span class="cm-number">0</span>;<br>    <span class="cm-property">height</span>: <span class="cm-number">100vh</span><br>}<br><br><span class="cm-tag">svg</span> {<br>    <span class="cm-property">display</span>: <span class="cm-atom">block</span>;<br>    <span class="cm-property">width</span>: <span class="cm-number">100vw</span>;<br>    <span class="cm-property">color</span>: <span class="cm-variable-2">$demo-light</span><br>}<br><br><span class="cm-tag">path</span> { <span class="cm-property">fill</span>: <span class="cm-atom">none</span> }<br><br><span class="cm-tag">circle</span> {<br>    <span class="cm-property">fill</span>: <span class="cm-atom">currentcolor</span>;<br>    <span class="cm-property">stroke</span>: <span class="cm-variable-2">$demo-dark</span>;<br>    <span class="cm-property">stroke-width</span>: <span class="cm-number">5px</span><br>}<br><br><span class="cm-tag">text</span> {<br>    <span class="cm-property">fill</span>: <span class="cm-atom">currentcolor</span>;<br>    <span class="cm-property">color</span>: <span class="cm-atom">#777</span><br>}<br><br>[<span class="cm-tag">id</span>=<span class="cm-string">'end'</span>] <span class="cm-tag">path</span> {<br>    <span class="cm-property">fill</span>: <span class="cm-atom">#b53</span><br>}<br><br>[<span class="cm-tag">id</span>=<span class="cm-string">'arc'</span>] {<br>    * { <span class="cm-property">fill</span>: <span class="cm-atom">none</span> }<br>    <br>    <span class="cm-tag">circle</span> { <span class="cm-property">stroke</span>: <span class="cm-variable-2">$demo-light</span> }<br>    <br>    <span class="cm-tag">path</span> {<br>        <span class="cm-property">stroke</span>: <span class="cm-atom">#b53</span>;<br>        <span class="cm-property">stroke-width</span>: <span class="cm-number">7px</span>;<br>        <span class="cm-property">marker-end</span>: <span class="cm-atom">url</span>(<span class="cm-string">#end</span>)<br>    }<br>}<br><br><span class="cm-qualifier">.curves</span> {<br>    <span class="cm-property">stroke</span>: <span class="cm-atom">transparent</span>;<br>    <span class="cm-property">stroke-width</span>: <span class="cm-number">98px</span>;<br>    <span class="cm-property">cursor</span>: <span class="cm-atom">pointer</span>;<br>    <span class="cm-property">color</span>: <span class="cm-variable-2">$demo-dark</span>;<br>    <br>    <span class="cm-tag">use</span> {<br>        <span class="cm-property">stroke</span>: <span class="cm-atom">currentcolor</span>;<br>        <span class="cm-property">stroke-width</span>: <span class="cm-number">10px</span>;<br>        <span class="cm-property">pointer-events</span>: <span class="cm-atom">none</span><br>    }<br>}<br><br><span class="cm-qualifier">.guides</span> {<br>    <span class="cm-property">stroke</span>: <span class="cm-variable-2">$demo-ll</span>;<br>    <span class="cm-property">stroke-width</span>: <span class="cm-number">4px</span>;<br>    <span class="cm-property">pointer-events</span>: <span class="cm-atom">none</span>;<br>    <br>    <span class="cm-tag">path</span> { <span class="cm-property">opacity</span>: <span class="cm-number">0</span> }<br>}<br><br><span class="cm-qualifier">.points</span> {   <br>    <span class="cm-qualifier">.end</span> { <span class="cm-property">cursor</span>: <span class="cm-atom">pointer</span> }<br>    <br>    <span class="cm-qualifier">.ctrl</span> { <span class="cm-property">opacity</span>: <span class="cm-number">0</span> }<br>}<br><br><span class="cm-builtin">#demo</span> <span class="cm-qualifier">.hl</span> {<br>    <span class="cm-property">opacity</span>: <span class="cm-number">1</span>;<br>    <span class="cm-property">color</span>: <span class="cm-variable-2">$demo-hl</span>;<br>    <span class="cm-property">transition</span>: <span class="cm-number">.3s</span><br>}</code></pre>

          <button id="view-css-compiled-button" class="action-button bottom right view-compiled-button" data-type="css">
            View Compiled
          </button>

      </div>

      <div id="js-box" class="code-wrap code-box box " role="region" aria-label="JS">


          <pre><code data-lang="jsx" id="actual-js-code" data-og-lang="jsx" data-alt-lang="javascript" class=" cm-s-default"><span class="cm-keyword">const</span> <span class="cm-def">_SVG</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">getElementById</span>(<span class="cm-string">'demo'</span>), <br>            <span class="cm-def">D</span> <span class="cm-operator">=</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">_SVG</span>.<span class="cm-property">getAttribute</span>(<span class="cm-string">'viewBox'</span>).<span class="cm-property">split</span>(<span class="cm-string">' '</span>)[<span class="cm-number">2</span>], <br>            <span class="cm-def">NS_URI</span> <span class="cm-operator">=</span> <span class="cm-string">'http://www.w3.org/2000/svg'</span>, <br>            <span class="cm-def">XLink_NS</span> <span class="cm-operator">=</span> <span class="cm-string">'http://www.w3.org/1999/xlink'</span>, <br>            <span class="cm-def">S</span> <span class="cm-operator">=</span> [], <span class="cm-def">N</span> <span class="cm-operator">=</span> <span class="cm-number">2</span>, <br>            <span class="cm-def">P</span> <span class="cm-operator">=</span> <span class="cm-number">5</span>, <span class="cm-def">NCUB</span> <span class="cm-operator">=</span> <span class="cm-number">3</span>, <span class="cm-def">NT</span> <span class="cm-operator">=</span> <span class="cm-variable">P</span><span class="cm-operator">*</span><span class="cm-variable">NCUB</span>, <br>            <span class="cm-def">PR</span> <span class="cm-operator">=</span> (<span class="cm-number">.02</span><span class="cm-operator">*</span><span class="cm-variable">D</span>), <span class="cm-def">PR1</span> <span class="cm-operator">=</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">PR</span>, <br>            <span class="cm-def">ACT</span> <span class="cm-operator">=</span> [<span class="cm-string">'add'</span>, <span class="cm-string">'remove'</span>], <br>            <span class="cm-def">BBOX</span> <span class="cm-operator">=</span> [];<br><br><span class="cm-keyword">let</span> <span class="cm-def">hl</span> <span class="cm-operator">=</span> <span class="cm-atom">null</span>;<br><br><span class="cm-keyword">function</span> <span class="cm-def">getStarCoord</span>(<span class="cm-def">f</span> <span class="cm-operator">=</span> <span class="cm-number">.32</span>) {<br>    <span class="cm-keyword">const</span> <span class="cm-def">RCO</span> <span class="cm-operator">=</span> <span class="cm-variable-2">f</span><span class="cm-operator">*</span><span class="cm-variable">D</span> <span class="cm-comment">/* outer (pentagram) circumradius*/</span>, <br>                <span class="cm-def">BAS</span> <span class="cm-operator">=</span> <span class="cm-number">2</span><span class="cm-operator">*</span>(<span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">PI</span><span class="cm-operator">/</span><span class="cm-variable">P</span>) <span class="cm-comment">/* base angle for star poly */</span>, <br>                <span class="cm-def">BAC</span> <span class="cm-operator">=</span> <span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">PI</span><span class="cm-operator">/</span><span class="cm-variable">P</span> <span class="cm-comment">/* base angle for convex poly */</span>, <br>                <span class="cm-def">RI</span> <span class="cm-operator">=</span> <span class="cm-variable-2">RCO</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">cos</span>(<span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable-2">BAS</span>) <span class="cm-comment">/*pentagram/ inner pentagon inradius */</span>, <br>                <span class="cm-def">RCI</span> <span class="cm-operator">=</span> <span class="cm-variable-2">RI</span><span class="cm-operator">/</span><span class="cm-variable">Math</span>.<span class="cm-property">cos</span>(<span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable-2">BAC</span>) <span class="cm-comment">/* inner pentagon circumradius */</span>, <br>                <span class="cm-def">ND</span> <span class="cm-operator">=</span> <span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable">P</span> <span class="cm-comment">/* total number of distinct points we need to get */</span>, <br>                <span class="cm-def">BAD</span> <span class="cm-operator">=</span> <span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">PI</span><span class="cm-operator">/</span><span class="cm-variable-2">ND</span> <span class="cm-comment">/* base angle for point distribution */</span>, <br>                <span class="cm-def">PTS</span> <span class="cm-operator">=</span> [] <span class="cm-comment">/* array we fill with point coordinates */</span>;<br><br>    <span class="cm-keyword">for</span>(<span class="cm-keyword">let</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">ND</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {<br>        <span class="cm-keyword">let</span> <span class="cm-comment">/* radius at end point (inner)/ control point (outer) */</span><br>                <span class="cm-def">cr</span> <span class="cm-operator">=</span> <span class="cm-variable-2">i</span><span class="cm-operator">%</span><span class="cm-number">2</span> <span class="cm-operator">?</span> <span class="cm-variable-2">RCI</span> : <span class="cm-variable-2">RCO</span>, <br>                <span class="cm-comment">/* angle of radial segment from origin to current point */</span><br>                <span class="cm-def">ca</span> <span class="cm-operator">=</span> <span class="cm-variable-2">i</span><span class="cm-operator">*</span><span class="cm-variable-2">BAD</span> <span class="cm-operator">+</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">PI</span>, <br>                <span class="cm-def">x</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">cr</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">cos</span>(<span class="cm-variable-2">ca</span>)), <br>                <span class="cm-def">y</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">cr</span><span class="cm-operator">*</span><span class="cm-variable">Math</span>.<span class="cm-property">sin</span>(<span class="cm-variable-2">ca</span>));<br><br>        <span class="cm-variable-2">PTS</span>.<span class="cm-property">push</span>([<span class="cm-variable-2">x</span>, <span class="cm-variable-2">y</span>]);<br>        <span class="cm-comment">/* for even indices double it, control points coincide here */</span><br>        <span class="cm-keyword">if</span>(<span class="cm-operator">!</span>(<span class="cm-variable-2">i</span><span class="cm-operator">%</span><span class="cm-number">2</span>)) <span class="cm-variable-2">PTS</span>.<span class="cm-property">push</span>([<span class="cm-variable-2">x</span>, <span class="cm-variable-2">y</span>]);<br>    }<br><br>    <span class="cm-keyword">return</span> <span class="cm-variable-2">PTS</span><br>};<br><br><span class="cm-keyword">function</span> <span class="cm-def">getHeartCoord</span>(<span class="cm-def">f</span> <span class="cm-operator">=</span> <span class="cm-number">.16</span>) {<br>    <span class="cm-keyword">const</span> <span class="cm-def">R</span> <span class="cm-operator">=</span> <span class="cm-variable-2">f</span><span class="cm-operator">*</span><span class="cm-variable">D</span> <span class="cm-comment">/* helper circle radius  */</span>, <br>                <span class="cm-def">RC</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">R</span><span class="cm-operator">/</span><span class="cm-variable">Math</span>.<span class="cm-property">SQRT2</span>) <span class="cm-comment">/* circumradius of square of edge R */</span>, <br>                <span class="cm-def">XT</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-def">YT</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-variable-2">RC</span> <span class="cm-comment">/* coords of point T */</span>, <br>                <span class="cm-def">XA</span> <span class="cm-operator">=</span> <span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable-2">RC</span>, <span class="cm-def">YA</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-variable-2">RC</span> <span class="cm-comment">/* coords of A points (x in abs value) */</span>, <br>                <span class="cm-def">XB</span> <span class="cm-operator">=</span> <span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable-2">RC</span>, <span class="cm-def">YB</span> <span class="cm-operator">=</span> <span class="cm-variable-2">RC</span> <span class="cm-comment">/* coords of B points (x in abs value) */</span>, <br>                <span class="cm-def">XC</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-def">YC</span> <span class="cm-operator">=</span> <span class="cm-number">3</span><span class="cm-operator">*</span><span class="cm-variable-2">RC</span> <span class="cm-comment">/* coords of point C */</span>, <br>                <span class="cm-def">XD</span> <span class="cm-operator">=</span> <span class="cm-variable-2">RC</span>, <span class="cm-def">YD</span> <span class="cm-operator">=</span> <span class="cm-operator">-</span><span class="cm-number">2</span><span class="cm-operator">*</span><span class="cm-variable-2">RC</span> <span class="cm-comment">/* coords of D points (x in abs value) */</span>, <br>                <span class="cm-def">XE</span> <span class="cm-operator">=</span> <span class="cm-number">3</span><span class="cm-operator">*</span><span class="cm-variable-2">RC</span>, <span class="cm-def">YE</span> <span class="cm-operator">=</span> <span class="cm-number">0</span> <span class="cm-comment">/* coords of E points (x in abs value) */</span>, <br>                <span class="cm-comment">/* const for cubic curve approx of quarter circle */</span><br>                <span class="cm-def">C</span> <span class="cm-operator">=</span> <span class="cm-number">.551915</span>, <br>        <span class="cm-def">CC</span> <span class="cm-operator">=</span> <span class="cm-number">1</span> <span class="cm-operator">-</span> <span class="cm-variable-2">C</span>, <br>        <span class="cm-comment">/* coords of ctrl points on TD segs */</span><br>                <span class="cm-def">XTD</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">XT</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">XD</span>), <span class="cm-def">YTD</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">YT</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">YD</span>), <br>        <span class="cm-comment">/* coords of ctrl points on AD segs */</span><br>                <span class="cm-def">XAD</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">XA</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">XD</span>), <span class="cm-def">YAD</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">YA</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">YD</span>), <br>        <span class="cm-comment">/* coords of ctrl points on AE segs */</span><br>                <span class="cm-def">XAE</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">XA</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">XE</span>), <span class="cm-def">YAE</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">YA</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">YE</span>), <br>        <span class="cm-comment">/* coords of ctrl points on BE segs */</span><br>                <span class="cm-def">XBE</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">XB</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">XE</span>), <span class="cm-def">YBE</span> <span class="cm-operator">=</span> <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">CC</span><span class="cm-operator">*</span><span class="cm-variable-2">YB</span> <span class="cm-operator">+</span> <span class="cm-variable-2">C</span><span class="cm-operator">*</span><span class="cm-variable-2">YE</span>);<br>    <br>    <span class="cm-keyword">return</span> [<br>        [<span class="cm-variable-2">XC</span>, <span class="cm-variable-2">YC</span>], [<span class="cm-variable-2">XC</span>, <span class="cm-variable-2">YC</span>], [<span class="cm-operator">-</span><span class="cm-variable-2">XB</span>, <span class="cm-variable-2">YB</span>], <br>        [<span class="cm-operator">-</span><span class="cm-variable-2">XBE</span>, <span class="cm-variable-2">YBE</span>], [<span class="cm-operator">-</span><span class="cm-variable-2">XAE</span>, <span class="cm-variable-2">YAE</span>], [<span class="cm-operator">-</span><span class="cm-variable-2">XA</span>, <span class="cm-variable-2">YA</span>], <br>        [<span class="cm-operator">-</span><span class="cm-variable-2">XAD</span>, <span class="cm-variable-2">YAD</span>], [<span class="cm-operator">-</span><span class="cm-variable-2">XTD</span>, <span class="cm-variable-2">YTD</span>], [<span class="cm-variable-2">XT</span>, <span class="cm-variable-2">YT</span>], <br>        [<span class="cm-variable-2">XTD</span>, <span class="cm-variable-2">YTD</span>], [<span class="cm-variable-2">XAD</span>, <span class="cm-variable-2">YAD</span>], [<span class="cm-variable-2">XA</span>, <span class="cm-variable-2">YA</span>], <br>        [<span class="cm-variable-2">XAE</span>, <span class="cm-variable-2">YAE</span>], [<span class="cm-variable-2">XBE</span>, <span class="cm-variable-2">YBE</span>], [<span class="cm-variable-2">XB</span>, <span class="cm-variable-2">YB</span>]<br>    ].<span class="cm-property">map</span>(([<span class="cm-def">x</span>, <span class="cm-def">y</span>]) <span class="cm-operator">=&gt;</span> [<span class="cm-variable-2">x</span>, <span class="cm-variable-2">y</span> <span class="cm-operator">-</span> <span class="cm-number">.09</span><span class="cm-operator">*</span><span class="cm-variable-2">R</span>]);<br>};<br><br><span class="cm-keyword">function</span> <span class="cm-def">createShapes</span>() {<br>    <span class="cm-keyword">let</span> <span class="cm-def">f</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createDocumentFragment</span>();<br>    <br>    <span class="cm-variable">S</span>.<span class="cm-property">push</span>(<span class="cm-meta">...</span>[<br>        { <span class="cm-property">coord</span>: <span class="cm-variable">getStarCoord</span>() }, <br>        { <span class="cm-property">coord</span>: <span class="cm-variable">getHeartCoord</span>() }<br>    ]);<br>    <br>    <span class="cm-keyword">for</span>(<span class="cm-keyword">let</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">N</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {<br>        <span class="cm-keyword">let</span> <span class="cm-def">_curves</span>, <span class="cm-def">_guides</span>, <span class="cm-def">_points</span>, <span class="cm-def">_labels</span>;<br>        <br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'g'</span>);<br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span>.<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'shape'</span>);<br>        <br>        <span class="cm-variable-2">_curves</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'g'</span>);<br>        <span class="cm-variable-2">_curves</span>.<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'curves'</span>);<br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span> <span class="cm-operator">=</span> [];<br>        <br>        <span class="cm-variable-2">_guides</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'g'</span>);<br>        <span class="cm-variable-2">_guides</span>.<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'guides'</span>);<br>        <br>        <span class="cm-variable-2">_points</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'g'</span>);<br>        <span class="cm-variable-2">_points</span>.<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'points'</span>);<br>        <br>        <span class="cm-variable-2">_labels</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'g'</span>);<br>        <span class="cm-variable-2">_labels</span>.<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'labels'</span>);<br>                <br>        <span class="cm-keyword">for</span>(<span class="cm-keyword">let</span> <span class="cm-def">j</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">j</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">P</span>; <span class="cm-variable-2">j</span><span class="cm-operator">++</span>) {<br>            <span class="cm-keyword">let</span> <span class="cm-def">sidx</span> <span class="cm-operator">=</span> <span class="cm-variable-2">j</span><span class="cm-operator">*</span><span class="cm-variable">NCUB</span>, <br>                    <span class="cm-def">tmp</span> <span class="cm-operator">=</span> <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>.<span class="cm-property">slice</span>(<span class="cm-variable-2">sidx</span>, <span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable">NCUB</span>), <br>                    <span class="cm-def">unique</span> <span class="cm-operator">=</span> (<span class="cm-variable-2">tmp</span>[<span class="cm-number">0</span>][<span class="cm-number">0</span>] <span class="cm-operator">==</span> <span class="cm-variable-2">tmp</span>[<span class="cm-number">1</span>][<span class="cm-number">0</span>] <span class="cm-operator">&amp;</span><span class="cm-operator">&amp;</span> <span class="cm-variable-2">tmp</span>[<span class="cm-number">0</span>][<span class="cm-number">1</span>] <span class="cm-operator">==</span> <span class="cm-variable-2">tmp</span>[<span class="cm-number">1</span>][<span class="cm-number">1</span>]) <span class="cm-operator">?</span> <br>                                        <span class="cm-variable-2">tmp</span>.<span class="cm-property">slice</span>(<span class="cm-number">1</span>) : <span class="cm-variable-2">tmp</span>;<br>            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>.<span class="cm-property">push</span>({<br>                <span class="cm-property">curve</span>: <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'path'</span>), <br>                <span class="cm-property">ccopy</span>: <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'use'</span>), <br>                <span class="cm-property">guide</span>: <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'path'</span>), <br>                <span class="cm-property">ends</span>: [<br>                    <span class="cm-variable-2">j</span> <span class="cm-operator">?</span> <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>] : <span class="cm-atom">null</span>, <br>                    <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'circle'</span>)<br>                ],<br>                <span class="cm-property">ctrl</span>: <span class="cm-variable-2">unique</span>.<span class="cm-property">slice</span>(<span class="cm-number">0</span>, <span class="cm-variable-2">unique</span>.<span class="cm-property">length</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>)<br>                                        .<span class="cm-property">map</span>(<span class="cm-def">_</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'circle'</span>)),<br>                <span class="cm-property">text</span>: <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'text'</span>)<br>            });<br>            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">curve</span>.<span class="cm-property">id</span> <span class="cm-operator">=</span> <span class="cm-string-2">`curve-${</span><span class="cm-variable-2">i</span><span class="cm-string-2">}</span><span class="cm-string-2">-${</span><span class="cm-variable-2">j</span><span class="cm-string-2">}</span><span class="cm-string-2">`</span>;<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">curve</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                <span class="cm-string">'d'</span>,<br>                <span class="cm-string-2">`M${</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[(<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable">NT</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>)<span class="cm-operator">%</span><span class="cm-variable">NT</span>]<span class="cm-string-2">}</span><br>                 <span class="cm-string-2">C${</span><span class="cm-variable-2">tmp</span><span class="cm-string-2">}</span><span class="cm-string-2">`</span><br>            ]); <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ccopy</span>.<span class="cm-property">setAttributeNS</span>(<span class="cm-meta">...</span>[<br>                <span class="cm-variable">XLink_NS</span>, <br>                <span class="cm-string">'xlink:href'</span>, <br>                <span class="cm-string-2">`#${</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">curve</span>.<span class="cm-property">id</span><span class="cm-string-2">}</span><span class="cm-string-2">`</span><br>            ]);<br>            <span class="cm-variable-2">_curves</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">curve</span>);<br>            <span class="cm-variable-2">_curves</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ccopy</span>);<br>            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">guide</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                <span class="cm-string">'d'</span>,<br>                <span class="cm-string-2">`M${</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[(<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable">NT</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>)<span class="cm-operator">%</span><span class="cm-variable">NT</span>]<span class="cm-string-2">}</span><br>                  <span class="cm-string-2">${</span><span class="cm-variable-2">unique</span><span class="cm-string-2">}</span><span class="cm-string-2">`</span><br>            ]);<br>            <span class="cm-variable-2">_guides</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">guide</span>);<br>            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ctrl</span>.<span class="cm-property">forEach</span>((<span class="cm-def">c</span>, <span class="cm-def">k</span>) <span class="cm-operator">=&gt;</span> {<br>                <span class="cm-variable-2">c</span>.<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'ctrl'</span>);<br>                <span class="cm-variable-2">c</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'r'</span>, <span class="cm-variable">PR1</span>);<br>                <span class="cm-variable-2">c</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'cx'</span>, <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable-2">k</span>][<span class="cm-number">0</span>]);<br>                <span class="cm-variable-2">c</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'cy'</span>, <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable-2">k</span>][<span class="cm-number">1</span>]);<br>                <span class="cm-variable-2">_points</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">c</span>);<br>            });<br>            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>].<span class="cm-property">id</span> <span class="cm-operator">=</span> <span class="cm-string-2">`point-${</span><span class="cm-variable-2">i</span><span class="cm-string-2">}</span><span class="cm-string-2">-${</span>(<span class="cm-variable-2">j</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>)<span class="cm-operator">%</span><span class="cm-variable">P</span><span class="cm-string-2">}</span><span class="cm-string-2">`</span><br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>].<span class="cm-property">classList</span>.<span class="cm-property">add</span>(<span class="cm-string">'end'</span>);<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>].<span class="cm-property">setAttribute</span>(<span class="cm-string">'r'</span>, <span class="cm-variable">PR</span>);<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>].<span class="cm-property">setAttribute</span>(<span class="cm-string">'cx'</span>, <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable">NCUB</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>][<span class="cm-number">0</span>]);<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>].<span class="cm-property">setAttribute</span>(<span class="cm-string">'cy'</span>, <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-variable">NCUB</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>][<span class="cm-number">1</span>]);<br>            <span class="cm-variable-2">_points</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>]);<br>            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>.<span class="cm-property">textContent</span> <span class="cm-operator">=</span> <span class="cm-variable-2">j</span>;<br>            <span class="cm-keyword">if</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">ctrl</span>.<span class="cm-property">length</span> <span class="cm-operator">===</span> <span class="cm-number">1</span>) {<br>                <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                    <span class="cm-string">'x'</span>, <br>                    <span class="cm-number">1.125</span><span class="cm-operator">*</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span>][<span class="cm-number">0</span>] <span class="cm-operator">-</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">BBOX</span>[<span class="cm-variable-2">j</span>][<span class="cm-number">0</span>]<br>                ]);<br>                <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                    <span class="cm-string">'y'</span>, <br>                    <span class="cm-number">1.125</span><span class="cm-operator">*</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span>][<span class="cm-number">1</span>] <span class="cm-operator">+</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">BBOX</span>[<span class="cm-variable-2">j</span>][<span class="cm-number">0</span>]<br>                ]);<br>            }<br>            <span class="cm-keyword">else</span> {<br>                <span class="cm-keyword">if</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span>][<span class="cm-number">0</span>] <span class="cm-operator">===</span> <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>][<span class="cm-number">0</span>]) {<br>                    <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                        <span class="cm-string">'x'</span>, <br>                        <span class="cm-number">1.15</span><span class="cm-operator">*</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span>][<span class="cm-number">0</span>] <span class="cm-operator">-</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">BBOX</span>[<span class="cm-variable-2">j</span>][<span class="cm-number">0</span>]<br>                    ]);<br>                }<br>                <span class="cm-keyword">else</span> {<br>                    <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                        <span class="cm-string">'x'</span>, <br>                        <span class="cm-number">.5</span><span class="cm-operator">*</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span>][<span class="cm-number">0</span>] <span class="cm-operator">+</span> <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span> <span class="cm-operator">+</span> <span class="cm-number">1</span>][<span class="cm-number">0</span>]) <span class="cm-operator">-</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">BBOX</span>[<span class="cm-variable-2">j</span>][<span class="cm-number">0</span>]<br>                    ]);<br>                    <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>.<span class="cm-property">setAttribute</span>(<span class="cm-meta">...</span>[<br>                        <span class="cm-string">'y'</span>, <br>                        <span class="cm-number">1.25</span><span class="cm-operator">*</span><span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">coord</span>[<span class="cm-variable-2">sidx</span>][<span class="cm-number">1</span>] <span class="cm-operator">+</span> <span class="cm-number">.5</span><span class="cm-operator">*</span><span class="cm-variable">BBOX</span>[<span class="cm-variable-2">j</span>][<span class="cm-number">0</span>]<br>                    ]);<br>                }<br>            }<br>            <span class="cm-variable-2">_labels</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">j</span>].<span class="cm-property">text</span>)<br>        }<br>        <br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-number">0</span>].<span class="cm-property">ends</span>[<span class="cm-number">0</span>] <span class="cm-operator">=</span> <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable">P</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>];<br>        <br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">_curves</span>);<br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">_guides</span>);<br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">_points</span>);<br>        <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">_labels</span>);<br>        <span class="cm-variable-2">f</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">g</span>)<br>    }<br>    <br>    <span class="cm-variable">S</span>[<span class="cm-number">1</span>].<span class="cm-property">g</span>.<span class="cm-property">setAttribute</span>(<span class="cm-string">'transform'</span>, <span class="cm-string-2">`translate(${</span><span class="cm-variable">D</span><span class="cm-string-2">}</span> <span class="cm-string-2">0)`</span>)<br>    <br>    <span class="cm-variable">_SVG</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">f</span>)<br>};<br><br><span class="cm-keyword">function</span> <span class="cm-def">textSize</span>() {<br>    <span class="cm-keyword">const</span> <span class="cm-def">_TT</span> <span class="cm-operator">=</span> <span class="cm-variable">document</span>.<span class="cm-property">createElementNS</span>(<span class="cm-variable">NS_URI</span>, <span class="cm-string">'text'</span>);<br><br>    <span class="cm-variable">_SVG</span>.<span class="cm-property">appendChild</span>(<span class="cm-variable-2">_TT</span>);<br><br>    <span class="cm-keyword">for</span>(<span class="cm-keyword">let</span> <span class="cm-def">j</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">j</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">P</span>; <span class="cm-variable-2">j</span><span class="cm-operator">++</span>) {<br>        <span class="cm-variable-2">_TT</span>.<span class="cm-property">textContent</span> <span class="cm-operator">=</span> <span class="cm-variable-2">j</span>;<br>        <br>        <span class="cm-keyword">let</span> <span class="cm-def">bb</span> <span class="cm-operator">=</span> <span class="cm-variable-2">_TT</span>.<span class="cm-property">getBBox</span>();<br>        <br>        <span class="cm-variable">BBOX</span>.<span class="cm-property">push</span>([<span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">bb</span>.<span class="cm-property">width</span>), <span class="cm-variable">Math</span>.<span class="cm-property">round</span>(<span class="cm-variable-2">bb</span>.<span class="cm-property">height</span>)]);<br>    }<br><br>    <span class="cm-variable">_SVG</span>.<span class="cm-property">removeChild</span>(<span class="cm-variable-2">_TT</span>);<br>};<br><br><span class="cm-keyword">function</span> <span class="cm-def">highlight</span>(<span class="cm-def">hl_obj</span>, <span class="cm-def">add</span> <span class="cm-operator">=</span> <span class="cm-number">1</span>) {<br>    <span class="cm-keyword">const</span> <span class="cm-def">CURR_ACT</span> <span class="cm-operator">=</span> <span class="cm-variable">ACT</span>[<span class="cm-number">.5</span><span class="cm-operator">*</span>(<span class="cm-number">1</span> <span class="cm-operator">-</span> <span class="cm-variable-2">add</span>)];<br>    <br>    <span class="cm-keyword">for</span>(<span class="cm-keyword">let</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable">N</span>; <span class="cm-variable-2">i</span><span class="cm-operator">++</span>) {<br>        <span class="cm-keyword">if</span>(<span class="cm-variable-2">hl_obj</span>.<span class="cm-property">typ</span> <span class="cm-operator">===</span> <span class="cm-string">'curve'</span>) {            <br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">hl_obj</span>.<span class="cm-property">idx</span>].<span class="cm-property">ccopy</span>.<span class="cm-property">classList</span>[<span class="cm-variable-2">CURR_ACT</span>](<span class="cm-string">'hl'</span>);<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">hl_obj</span>.<span class="cm-property">idx</span>].<span class="cm-property">guide</span>.<span class="cm-property">classList</span>[<span class="cm-variable-2">CURR_ACT</span>](<span class="cm-string">'hl'</span>);<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">hl_obj</span>.<span class="cm-property">idx</span>].<span class="cm-property">text</span>.<span class="cm-property">classList</span>[<span class="cm-variable-2">CURR_ACT</span>](<span class="cm-string">'hl'</span>);<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">hl_obj</span>.<span class="cm-property">idx</span>].<span class="cm-property">ctrl</span>.<span class="cm-property">forEach</span>(<span class="cm-def">c</span> <span class="cm-operator">=&gt;</span> <span class="cm-variable-2">c</span>.<span class="cm-property">classList</span>[<span class="cm-variable-2">CURR_ACT</span>](<span class="cm-string">'hl'</span>));<br>            <span class="cm-variable">S</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">c</span>[<span class="cm-variable-2">hl_obj</span>.<span class="cm-property">idx</span>].<span class="cm-property">ends</span>[<span class="cm-number">1</span>].<span class="cm-property">classList</span>[<span class="cm-variable-2">CURR_ACT</span>](<span class="cm-string">'hl'</span>);<br>        }<br>    }<br>    <br>    <span class="cm-variable">hl</span> <span class="cm-operator">=</span> <span class="cm-variable-2">add</span> <span class="cm-operator">&gt;</span> <span class="cm-number">0</span> <span class="cm-operator">?</span> <span class="cm-variable-2">hl_obj</span> : <span class="cm-atom">null</span>;<br>};<br><br>(<span class="cm-keyword">function</span> <span class="cm-def">init</span>() {<br>    <span class="cm-variable">textSize</span>();<br>    <br>    <span class="cm-variable">createShapes</span>();<br>    <br>    <span class="cm-variable">addEventListener</span>(<span class="cm-string">'click'</span>, <span class="cm-def">e</span> <span class="cm-operator">=&gt;</span> {<br>        <span class="cm-keyword">const</span> <span class="cm-def">_T</span> <span class="cm-operator">=</span> <span class="cm-variable-2">e</span>.<span class="cm-property">target</span>;<br>        <br>        <span class="cm-keyword">if</span>(<span class="cm-variable">hl</span>) <span class="cm-variable">highlight</span>(<span class="cm-variable">hl</span>, <span class="cm-operator">-</span><span class="cm-number">1</span>);<br>        <br>        <span class="cm-keyword">if</span>(<span class="cm-variable-2">_T</span>.<span class="cm-property">id</span> <span class="cm-operator">&amp;</span><span class="cm-operator">&amp;</span> <span class="cm-string-2">/(point)|(curve)/</span>.<span class="cm-property">test</span>(<span class="cm-variable-2">_T</span>.<span class="cm-property">id</span>)) {<br>            <span class="cm-keyword">const</span> <span class="cm-def">DATA</span> <span class="cm-operator">=</span> <span class="cm-variable-2">_T</span>.<span class="cm-property">id</span>.<span class="cm-property">split</span>(<span class="cm-string">'-'</span>);<br>            <br>            <span class="cm-variable">highlight</span>({<span class="cm-property">typ</span>: <span class="cm-variable-2">DATA</span>[<span class="cm-number">0</span>], <span class="cm-property">idx</span>: <span class="cm-operator">+</span><span class="cm-variable-2">DATA</span>[<span class="cm-number">2</span>]});<br>        }<br>    }, <span class="cm-atom">false</span>);<br>})();</code></pre>

          <a href="#0" id="view-js-compiled-button" class="action-button bottom right view-compiled-button" data-type="js">
            View Compiled
          </a>
      </div>

    

    <div id="result-box" class="code-box active" role="region" aria-label="Result">

      <iframe id="result-iframe" sandbox="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts" allow="geolocation; microphone; camera; midi; vr" tabindex="-1" src="WXeVRO_data/WXeVRO.html" allowtransparency="true" scrolling="yes" allowpaymentrequest="true" allowfullscreen="true" name="CodePen Preview for star vs. heart: corresponding cubic BÃ©zier curves (annotated, highlight on click)" title="CodePen Preview for star vs. heart: corresponding cubic BÃ©zier curves (annotated, highlight on click)" data-src="https://s.codepen.io/thebabydino/fullembedgrid/WXeVRO?type=embed&amp;animations=run" frameborder="0">
      </iframe>

    </div>

    
<div id="about-box">

  <div class="about-container">

    <div class="about-user">

      <div class="about-image" style="background-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/2017/profile/profile-512.jpg?4)"></div>

      <div class="about-user-info">

        <p>
          This Pen is owned by <a href="https://codepen.io/thebabydino" target="_blank">Ana Tudor</a> on CodePen.


          Check out @thebabydino's
          <a href="https://codepen.io/thebabydino" target="_blank" rel="noopener">
            2690 Other Pens</a>
            or
            <a target="_blank" href="https://codepen.io/thebabydino/posts">
              9 Posts
            </a>
          .
        </p>

      </div>

    </div>

  </div>

</div>


  </div>

  <button id="resources-link" class="resources-link action-button bottom left" href="#resources-box" aria-pressed="false" role="button">
    View Resources
  </button>

  <ul class="scaling-choices bottom right">
    <li><button class="action-button active" id="zoom-button-1">1Ã</button></li><li><button class="action-button" id="zoom-button-05">0.5Ã</button></li><li><button class="action-button" id="zoom-button-025">0.25Ã</button></li>
  </ul>

  <button href="#0" id="rerun-button" class="action-button rerun-button bottom right">
    Rerun
  </button>

  <div class="resources-box" id="resources-box">

  <h3>External CSS</h3>
    <p>
      This Pen doesn't use any external CSS resources.
    </p>

  <h3>External JavaScript</h3>
    <p>
      This Pen doesn't use any external JavaScript resources.
    </p>

</div>



  <script>
    __processedPen = {"html":"\n&lt;svg id=&quot;demo&quot; viewBox=&quot;-1250 -1250 5000 2500&quot;&gt;\n  &lt;style&gt;svg { font: 150px consolas, monaco, monospace }&lt;/style&gt;\n  &lt;marker id=&quot;end&quot; markerWidth=&quot;10&quot; markerHeight=&quot;10&quot; viewBox=&quot;0 -4 8 8&quot; orient=&quot;auto&quot; refX=&quot;7&quot;&gt;\n    &lt;path d=&quot;M8 0 0-4V4&quot;&gt;&lt;/path&gt;\n  &lt;/marker&gt;\n  &lt;g id=&quot;arc&quot;&gt;\n    &lt;circle r=&quot;1075&quot;&gt;&lt;/circle&gt;\n    &lt;path d=&quot;M-1022 -332 A1075 1075 0 0 1 -760 -760&quot;&gt;&lt;/path&gt;\n  &lt;/g&gt;\n  &lt;use xlink:href=&quot;#arc&quot; x=&quot;2500&quot;&gt;&lt;/use&gt;\n&lt;/svg&gt;","css":"body {\n  display: flex;\n  margin: 0;\n  height: 100vh;\n}\n\nsvg {\n  display: block;\n  width: 100vw;\n  color: #ccc;\n}\n\npath {\n  fill: none;\n}\n\ncircle {\n  fill: currentcolor;\n  stroke: #333;\n  stroke-width: 5px;\n}\n\ntext {\n  fill: currentcolor;\n  color: #777;\n}\n\n[id=&#39;end&#39;] path {\n  fill: #b53;\n}\n\n[id=&#39;arc&#39;] * {\n  fill: none;\n}\n[id=&#39;arc&#39;] circle {\n  stroke: #ccc;\n}\n[id=&#39;arc&#39;] path {\n  stroke: #b53;\n  stroke-width: 7px;\n  marker-end: url(#end);\n}\n\n.curves {\n  stroke: transparent;\n  stroke-width: 98px;\n  cursor: pointer;\n  color: #333;\n}\n.curves use {\n  stroke: currentcolor;\n  stroke-width: 10px;\n  pointer-events: none;\n}\n\n.guides {\n  stroke: #95a;\n  stroke-width: 4px;\n  pointer-events: none;\n}\n.guides path {\n  opacity: 0;\n}\n\n.points .end {\n  cursor: pointer;\n}\n.points .ctrl {\n  opacity: 0;\n}\n\n#demo .hl {\n  opacity: 1;\n  color: #f90;\n  transition: 0.3s;\n}\n","js":"var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i &amp;&amp; _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n &amp;&amp; _i[&quot;return&quot;]) _i[&quot;return&quot;]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError(&quot;Invalid attempt to destructure non-iterable instance&quot;);}};}();var _SVG = document.getElementById(&#39;demo&#39;),\nD = .5 * _SVG.getAttribute(&#39;viewBox&#39;).split(&#39; &#39;)[2],\nNS_URI = &#39;http://www.w3.org/2000/svg&#39;,\nXLink_NS = &#39;http://www.w3.org/1999/xlink&#39;,\nS = [],N = 2,\nP = 5,NCUB = 3,NT = P * NCUB,\nPR = .02 * D,PR1 = .5 * PR,\nACT = [&#39;add&#39;, &#39;remove&#39;],\nBBOX = [];\n\nvar hl = null;\n\nfunction getStarCoord() {var f = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : .32;\n\tvar RCO = f * D /* outer (pentagram) circumradius*/,\n\tBAS = 2 * (2 * Math.PI / P) /* base angle for star poly */,\n\tBAC = 2 * Math.PI / P /* base angle for convex poly */,\n\tRI = RCO * Math.cos(.5 * BAS) /*pentagram/ inner pentagon inradius */,\n\tRCI = RI / Math.cos(.5 * BAC) /* inner pentagon circumradius */,\n\tND = 2 * P /* total number of distinct points we need to get */,\n\tBAD = 2 * Math.PI / ND /* base angle for point distribution */,\n\tPTS = [] /* array we fill with point coordinates */;\n\n\tfor (var i = 0; i &lt; ND; i++) {if (window.CP.shouldStopExecution(0)) break;\n\t\tvar /* radius at end point (inner)/ control point (outer) */\n\t\tcr = i % 2 ? RCI : RCO,\n\t\t/* angle of radial segment from origin to current point */\n\t\tca = i * BAD + .5 * Math.PI,\n\t\tx = Math.round(cr * Math.cos(ca)),\n\t\ty = Math.round(cr * Math.sin(ca));\n\n\t\tPTS.push([x, y]);\n\t\t/* for even indices double it, control points coincide here */\n\t\tif (!(i % 2)) PTS.push([x, y]);\n\t}window.CP.exitedLoop(0);\n\n\treturn PTS;\n};\n\nfunction getHeartCoord() {var f = arguments.length &gt; 0 &amp;&amp; arguments[0] !== undefined ? arguments[0] : .16;\n\tvar R = f * D /* helper circle radius  */,\n\tRC = Math.round(R / Math.SQRT2) /* circumradius of square of edge R */,\n\tXT = 0,YT = -RC /* coords of point T */,\n\tXA = 2 * RC,YA = -RC /* coords of A points (x in abs value) */,\n\tXB = 2 * RC,YB = RC /* coords of B points (x in abs value) */,\n\tXC = 0,YC = 3 * RC /* coords of point C */,\n\tXD = RC,YD = -2 * RC /* coords of D points (x in abs value) */,\n\tXE = 3 * RC,YE = 0 /* coords of E points (x in abs value) */,\n\t/* const for cubic curve approx of quarter circle */\n\tC = .551915,\n\tCC = 1 - C,\n\t/* coords of ctrl points on TD segs */\n\tXTD = Math.round(CC * XT + C * XD),YTD = Math.round(CC * YT + C * YD),\n\t/* coords of ctrl points on AD segs */\n\tXAD = Math.round(CC * XA + C * XD),YAD = Math.round(CC * YA + C * YD),\n\t/* coords of ctrl points on AE segs */\n\tXAE = Math.round(CC * XA + C * XE),YAE = Math.round(CC * YA + C * YE),\n\t/* coords of ctrl points on BE segs */\n\tXBE = Math.round(CC * XB + C * XE),YBE = Math.round(CC * YB + C * YE);\n\n\treturn [\n\t[XC, YC], [XC, YC], [-XB, YB],\n\t[-XBE, YBE], [-XAE, YAE], [-XA, YA],\n\t[-XAD, YAD], [-XTD, YTD], [XT, YT],\n\t[XTD, YTD], [XAD, YAD], [XA, YA],\n\t[XAE, YAE], [XBE, YBE], [XB, YB]].\n\tmap(function (_ref) {var _ref2 = _slicedToArray(_ref, 2),x = _ref2[0],y = _ref2[1];return [x, y - .09 * R];});\n};\n\nfunction createShapes() {\n\tvar f = document.createDocumentFragment();\n\n\tS.push.apply(S, [\n\t{ coord: getStarCoord() },\n\t{ coord: getHeartCoord() }]);var _loop = function _loop(\n\n\n\ti) {if (window.CP.shouldStopExecution(1)) return &#39;break&#39;;\n\t\tvar _curves = void 0,_guides = void 0,_points = void 0,_labels = void 0;\n\n\t\tS[i].g = document.createElementNS(NS_URI, &#39;g&#39;);\n\t\tS[i].g.classList.add(&#39;shape&#39;);\n\n\t\t_curves = document.createElementNS(NS_URI, &#39;g&#39;);\n\t\t_curves.classList.add(&#39;curves&#39;);\n\t\tS[i].c = [];\n\n\t\t_guides = document.createElementNS(NS_URI, &#39;g&#39;);\n\t\t_guides.classList.add(&#39;guides&#39;);\n\n\t\t_points = document.createElementNS(NS_URI, &#39;g&#39;);\n\t\t_points.classList.add(&#39;points&#39;);\n\n\t\t_labels = document.createElementNS(NS_URI, &#39;g&#39;);\n\t\t_labels.classList.add(&#39;labels&#39;);var _loop2 = function _loop2(\n\n\t\tj) {var _S$i$c$j$curve, _S$i$c$j$ccopy, _S$i$c$j$guide;if (window.CP.shouldStopExecution(2)) return &#39;break&#39;;\n\t\t\tvar sidx = j * NCUB,\n\t\t\ttmp = S[i].coord.slice(sidx, sidx + NCUB),\n\t\t\tunique = tmp[0][0] == tmp[1][0] &amp;&amp; tmp[0][1] == tmp[1][1] ?\n\t\t\ttmp.slice(1) : tmp;\n\n\t\t\tS[i].c.push({\n\t\t\t\tcurve: document.createElementNS(NS_URI, &#39;path&#39;),\n\t\t\t\tccopy: document.createElementNS(NS_URI, &#39;use&#39;),\n\t\t\t\tguide: document.createElementNS(NS_URI, &#39;path&#39;),\n\t\t\t\tends: [\n\t\t\t\tj ? S[i].c[j - 1].ends[1] : null,\n\t\t\t\tdocument.createElementNS(NS_URI, &#39;circle&#39;)],\n\n\t\t\t\tctrl: unique.slice(0, unique.length - 1).\n\t\t\t\tmap(function (_) {return document.createElementNS(NS_URI, &#39;circle&#39;);}),\n\t\t\t\ttext: document.createElementNS(NS_URI, &#39;text&#39;) });\n\n\n\t\t\tS[i].c[j].curve.id = &#39;curve-&#39; + i + &#39;-&#39; + j;\n\t\t\t(_S$i$c$j$curve = S[i].c[j].curve).setAttribute.apply(_S$i$c$j$curve, [\n\t\t\t&#39;d&#39;, &#39;M&#39; +\n\t\t\tS[i].coord[(sidx + NT - 1) % NT] + &#39;\\n\\t\\t\\t\\t C&#39; +\n\t\t\ttmp]);\n\n\t\t\t(_S$i$c$j$ccopy = S[i].c[j].ccopy).setAttributeNS.apply(_S$i$c$j$ccopy, [\n\t\t\tXLink_NS,\n\t\t\t&#39;xlink:href&#39;, &#39;#&#39; +\n\t\t\tS[i].c[j].curve.id]);\n\n\t\t\t_curves.appendChild(S[i].c[j].curve);\n\t\t\t_curves.appendChild(S[i].c[j].ccopy);\n\n\t\t\t(_S$i$c$j$guide = S[i].c[j].guide).setAttribute.apply(_S$i$c$j$guide, [\n\t\t\t&#39;d&#39;, &#39;M&#39; +\n\t\t\tS[i].coord[(sidx + NT - 1) % NT] + &#39;\\n\\t\\t\\t\\t  &#39; +\n\t\t\tunique]);\n\n\t\t\t_guides.appendChild(S[i].c[j].guide);\n\n\t\t\tS[i].c[j].ctrl.forEach(function (c, k) {\n\t\t\t\tc.classList.add(&#39;ctrl&#39;);\n\t\t\t\tc.setAttribute(&#39;r&#39;, PR1);\n\t\t\t\tc.setAttribute(&#39;cx&#39;, S[i].coord[sidx + k][0]);\n\t\t\t\tc.setAttribute(&#39;cy&#39;, S[i].coord[sidx + k][1]);\n\t\t\t\t_points.appendChild(c);\n\t\t\t});\n\n\t\t\tS[i].c[j].ends[1].id = &#39;point-&#39; + i + &#39;-&#39; + (j + 1) % P;\n\t\t\tS[i].c[j].ends[1].classList.add(&#39;end&#39;);\n\t\t\tS[i].c[j].ends[1].setAttribute(&#39;r&#39;, PR);\n\t\t\tS[i].c[j].ends[1].setAttribute(&#39;cx&#39;, S[i].coord[sidx + NCUB - 1][0]);\n\t\t\tS[i].c[j].ends[1].setAttribute(&#39;cy&#39;, S[i].coord[sidx + NCUB - 1][1]);\n\t\t\t_points.appendChild(S[i].c[j].ends[1]);\n\n\t\t\tS[i].c[j].text.textContent = j;\n\t\t\tif (S[i].c[j].ctrl.length === 1) {var _S$i$c$j$text, _S$i$c$j$text2;\n\t\t\t\t(_S$i$c$j$text = S[i].c[j].text).setAttribute.apply(_S$i$c$j$text, [\n\t\t\t\t&#39;x&#39;,\n\t\t\t\t1.125 * S[i].coord[sidx][0] - .5 * BBOX[j][0]]);\n\n\t\t\t\t(_S$i$c$j$text2 = S[i].c[j].text).setAttribute.apply(_S$i$c$j$text2, [\n\t\t\t\t&#39;y&#39;,\n\t\t\t\t1.125 * S[i].coord[sidx][1] + .5 * BBOX[j][0]]);\n\n\t\t\t} else\n\t\t\t{\n\t\t\t\tif (S[i].coord[sidx][0] === S[i].coord[sidx + 1][0]) {var _S$i$c$j$text3;\n\t\t\t\t\t(_S$i$c$j$text3 = S[i].c[j].text).setAttribute.apply(_S$i$c$j$text3, [\n\t\t\t\t\t&#39;x&#39;,\n\t\t\t\t\t1.15 * S[i].coord[sidx][0] - .5 * BBOX[j][0]]);\n\n\t\t\t\t} else\n\t\t\t\t{var _S$i$c$j$text4, _S$i$c$j$text5;\n\t\t\t\t\t(_S$i$c$j$text4 = S[i].c[j].text).setAttribute.apply(_S$i$c$j$text4, [\n\t\t\t\t\t&#39;x&#39;,\n\t\t\t\t\t.5 * (S[i].coord[sidx][0] + S[i].coord[sidx + 1][0]) - .5 * BBOX[j][0]]);\n\n\t\t\t\t\t(_S$i$c$j$text5 = S[i].c[j].text).setAttribute.apply(_S$i$c$j$text5, [\n\t\t\t\t\t&#39;y&#39;,\n\t\t\t\t\t1.25 * S[i].coord[sidx][1] + .5 * BBOX[j][0]]);\n\n\t\t\t\t}\n\t\t\t}\n\t\t\t_labels.appendChild(S[i].c[j].text);};for (var j = 0; j &lt; P; j++) {var _ret2 = _loop2(j);if (_ret2 === &#39;break&#39;) break;\n\t\t}window.CP.exitedLoop(2);\n\n\t\tS[i].c[0].ends[0] = S[i].c[P - 1].ends[1];\n\n\t\tS[i].g.appendChild(_curves);\n\t\tS[i].g.appendChild(_guides);\n\t\tS[i].g.appendChild(_points);\n\t\tS[i].g.appendChild(_labels);\n\t\tf.appendChild(S[i].g);};for (var i = 0; i &lt; N; i++) {var _ret = _loop(i);if (_ret === &#39;break&#39;) break;\n\t}window.CP.exitedLoop(1);\n\n\tS[1].g.setAttribute(&#39;transform&#39;, &#39;translate(&#39; + D + &#39; 0)&#39;);\n\n\t_SVG.appendChild(f);\n};\n\nfunction textSize() {\n\tvar _TT = document.createElementNS(NS_URI, &#39;text&#39;);\n\n\t_SVG.appendChild(_TT);\n\n\tfor (var j = 0; j &lt; P; j++) {if (window.CP.shouldStopExecution(3)) break;\n\t\t_TT.textContent = j;\n\n\t\tvar bb = _TT.getBBox();\n\n\t\tBBOX.push([Math.round(bb.width), Math.round(bb.height)]);\n\t}window.CP.exitedLoop(3);\n\n\t_SVG.removeChild(_TT);\n};\n\nfunction highlight(hl_obj) {var add = arguments.length &gt; 1 &amp;&amp; arguments[1] !== undefined ? arguments[1] : 1;\n\tvar CURR_ACT = ACT[.5 * (1 - add)];\n\n\tfor (var i = 0; i &lt; N; i++) {if (window.CP.shouldStopExecution(4)) break;\n\t\tif (hl_obj.typ === &#39;curve&#39;) {\n\t\t\tS[i].c[hl_obj.idx].ccopy.classList[CURR_ACT](&#39;hl&#39;);\n\t\t\tS[i].c[hl_obj.idx].guide.classList[CURR_ACT](&#39;hl&#39;);\n\t\t\tS[i].c[hl_obj.idx].text.classList[CURR_ACT](&#39;hl&#39;);\n\t\t\tS[i].c[hl_obj.idx].ctrl.forEach(function (c) {return c.classList[CURR_ACT](&#39;hl&#39;);});\n\t\t\tS[i].c[hl_obj.idx].ends[1].classList[CURR_ACT](&#39;hl&#39;);\n\t\t}\n\t}window.CP.exitedLoop(4);\n\n\thl = add &gt; 0 ? hl_obj : null;\n};\n\n(function init() {\n\ttextSize();\n\n\tcreateShapes();\n\n\taddEventListener(&#39;click&#39;, function (e) {\n\t\tvar _T = e.target;\n\n\t\tif (hl) highlight(hl, -1);\n\n\t\tif (_T.id &amp;&amp; /(point)|(curve)/.test(_T.id)) {\n\t\t\tvar DATA = _T.id.split(&#39;-&#39;);\n\n\t\t\thighlight({ typ: DATA[0], idx: +DATA[2] });\n\t\t}\n\t}, false);\n})();"};
    __preprocessorNames = {
      "html": "Pug",
      "css":  "SCSS",
      "js":   "Babel"
    };
    __pageType = "embed";
    __editable = false;
    __env = "production";
    __browser_name = "firefox"
    __browser_platform = "linux"





  </script>

  <script src="LpqEmJ_data/embed-6beaab7608b0ce926aaed0a16650b4216ff721c28db8785764c4cb1.js"></script>





</body></html>